# 禁止事項と推奨事項

## NEVER（絶対にやらない）

- `--no-verify` でコミットフックをバイパス
- テストを無効化・スキップ（修正すること）
- コンパイル/型チェックが通らないコードをコミット
- 推測でコードを書く（必ず確認してから）
- 3回同じ方法で失敗しても続ける（別アプローチを検討）
- 機密情報をコードにハードコード
- 本番データベースに直接クエリ実行

---

## 応急処置の禁止（重要）

**問題の本質から逃げる「応急処置」は絶対に禁止。必ず根本原因を解決せよ。**

### 禁止される応急処置の例

```
❌ 起動しない → 「シンプル版」に機能を削って起動させる
❌ エラーが出る → try-catch で握りつぶして無視する
❌ 動かない → 該当コードをコメントアウトして回避
❌ テスト失敗 → テストを削除・スキップして通す
❌ 型エラー → any にキャストして黙らせる
❌ ライブラリエラー → バージョンを下げて逃げる（原因調査なし）
❌ 複雑すぎる → 機能を勝手に削除して簡略化
```

### 正しい対処法

```
✅ 起動しない → エラーログを確認し、根本原因を特定して修正
✅ エラーが出る → エラーの原因を調査し、適切に処理
✅ 動かない → デバッグして原因を突き止める
✅ テスト失敗 → テストまたは実装を修正
✅ 型エラー → 正しい型定義を作成
✅ ライブラリエラー → 公式ドキュメントで原因を調査
✅ 複雑すぎる → ユーザーに相談してから方針決定
```

### 判断基準

```
問題が発生したとき:
  │
  ├─ 機能を削る/簡略化する必要がある？
  │    → ❌ 禁止（ユーザーに相談なく勝手に削るな）
  │
  ├─ エラーを無視/握りつぶす？
  │    → ❌ 禁止（原因を調査せよ）
  │
  ├─ 「とりあえず動く」を優先？
  │    → ❌ 禁止（正しく動くを優先せよ）
  │
  └─ 原因がわからない？
       → ✅ ユーザーに報告し、調査の許可を得る
```

**例外**: ユーザーが明示的に「シンプル版でいい」「この機能は不要」と指示した場合のみ許可

---

## ALWAYS（必ずやる）

- 動作するコードを段階的にコミット
- CLAUDE.md を随時更新
- 既存の実装パターンから学ぶ
- 3回失敗したら立ち止まって再評価
- 外部入力は必ず検証
- エラーハンドリングを適切に実装
- **問題が解決できない場合はユーザーに報告**
- **勝手に機能を削除・簡略化しない**
